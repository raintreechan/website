<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>文档 | 毕竟1米八¹</title>
    <meta name="description" content="这世上唯有梦想和好姑娘不可辜负">
    <link rel="stylesheet" href="/website/assets/style.96f631b8.css">
    <link rel="modulepreload" href="/website/assets/chunks/VPAlgoliaSearchBox.71eea8de.js">
    <link rel="modulepreload" href="/website/assets/app.30ce24bb.js">
    <link rel="modulepreload" href="/website/assets/document_index.md.2772627f.lean.js">
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1b16a684><!--[--><!--]--><!--[--><span tabindex="-1" data-v-2d2905ad></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-2d2905ad> Skip to content </a><!--]--><!----><header class="VPNav no-sidebar" data-v-1b16a684 data-v-6b3eee36><div class="VPNavBar" data-v-6b3eee36 data-v-d2c70b18><div class="container" data-v-d2c70b18><div class="VPNavBarTitle" data-v-d2c70b18 data-v-e936a48a><a class="title" href="/website/" data-v-e936a48a><!--[--><!--]--><!----><!--[-->毕竟1米八¹<!--]--><!--[--><!--]--></a></div><div class="content" data-v-d2c70b18><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d2c70b18 style="--62cf88be:&#39;Meta&#39;;"><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d2c70b18 data-v-588c1842><span id="main-nav-aria-label" class="visually-hidden" data-v-588c1842>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->首页<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-588c1842 data-v-4ba4f78e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-4ba4f78e><span class="text" data-v-4ba4f78e><!----> 博文 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-4ba4f78e><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-4ba4f78e><div class="VPMenu" data-v-4ba4f78e data-v-8ca9153f><div class="items" data-v-8ca9153f><!--[--><!--[--><div class="VPMenuLink" data-v-8ca9153f data-v-1abb7b2e><a class="VPLink link" href="/website/blog/vue/vue3%E8%87%AA%E5%AE%9A%E4%B9%89Hooks%E5%AE%9E%E7%8E%B0%E8%BD%BB%E9%87%8F%E7%BA%A7%E5%85%A8%E5%B1%80%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86.html" data-v-1abb7b2e data-v-89ddc5d1><!--[-->Vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8ca9153f data-v-1abb7b2e><a class="VPLink link" href="/website/blog/node/" data-v-1abb7b2e data-v-89ddc5d1><!--[-->Node<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8ca9153f data-v-1abb7b2e><a class="VPLink link" href="/website/blog/design/" data-v-1abb7b2e data-v-89ddc5d1><!--[-->设计<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/project/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->项目<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/api/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->接口<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/components/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->组件<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/website/document/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->文档<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/logo/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->标志<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/website/about/" data-v-588c1842 data-v-8f94891d data-v-89ddc5d1><!--[-->简历<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-d2c70b18 data-v-6398f618><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-6398f618 data-v-6725e254 data-v-f9c7438c><span class="check" data-v-f9c7438c><span class="icon" data-v-f9c7438c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6725e254><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6725e254><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d2c70b18 data-v-090d70c7 data-v-dd93e02f><!--[--><a class="VPSocialLink" href="https://www.jianshu.com/u/28dc5b17b0c9" target="_blank" rel="noopener" data-v-dd93e02f data-v-2b25261e><svg t="1755517494239" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5539" width="800" height="800"><path d="M512 512m-480 0a480 480 0 1 0 960 0 480 480 0 1 0-960 0Z" fill="#E6686A" p-id="5540"></path><path d="M275.264 488.32h59.52v311.264h-59.52V488.32z m33.536-94.528c14.944 27.648 24.64 55.328 29.088 82.976h64.832c-8.96-35.36-20.128-63.04-33.536-82.976H308.8zM436.8 314.528h71.584V275.328h-129.696c1.504-3.104 3.744-8.448 6.72-16.16 1.472-6.112 2.976-10.72 4.48-13.824H322.752c-10.432 41.504-34.24 72.288-71.52 92.224v39.2c49.152-12.288 84.192-33.024 105.056-62.24h22.4c7.424 19.968 11.904 39.2 13.408 57.632h62.592a292.992 292.992 0 0 0-17.92-57.632z m-29.056 124.512h269.472v253.664c1.504 23.04-8.928 33.792-31.296 32.256H608.96v46.112h53.664c52.16 1.536 77.504-22.304 76-71.488V392.96h-330.88v46.112z" fill="#FFFFFF" p-id="5541"></path><path d="M617.92 480.544h-219.136v232.896h152.064c47.68 1.536 70.08-21.536 67.072-69.152v-163.744z m-158.72 41.504h98.336v53.024H459.2v-53.024z m69.28 149.888h-69.312v-57.664h98.368v27.68c1.504 21.536-8.192 31.52-29.056 29.984zM620.16 273.024a18.24 18.24 0 0 1 2.24-6.944l6.72-20.736h-67.072c-10.464 43.04-33.536 75.328-69.344 96.832v36.896c46.208-12.32 81.28-33.792 105.088-64.576h31.328c7.456 20 11.904 39.232 13.44 57.664h60.32c-1.472-15.36-7.456-34.56-17.92-57.664h78.304V273.024H620.16z" fill="#FFFFFF" p-id="5542"></path></svg></a><a class="VPSocialLink" href="https://github.com/raintreechan" target="_blank" rel="noopener" data-v-dd93e02f data-v-2b25261e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d2c70b18 data-v-e739cf57 data-v-4ba4f78e><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4ba4f78e><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4ba4f78e><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-4ba4f78e><div class="VPMenu" data-v-4ba4f78e data-v-8ca9153f><!----><!--[--><!--[--><!----><div class="group" data-v-e739cf57><div class="item appearance" data-v-e739cf57><p class="label" data-v-e739cf57>Appearance</p><div class="appearance-action" data-v-e739cf57><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e739cf57 data-v-6725e254 data-v-f9c7438c><span class="check" data-v-f9c7438c><span class="icon" data-v-f9c7438c><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-6725e254><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-6725e254><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e739cf57><div class="item social-links" data-v-e739cf57><div class="VPSocialLinks social-links-list" data-v-e739cf57 data-v-dd93e02f><!--[--><a class="VPSocialLink" href="https://www.jianshu.com/u/28dc5b17b0c9" target="_blank" rel="noopener" data-v-dd93e02f data-v-2b25261e><svg t="1755517494239" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5539" width="800" height="800"><path d="M512 512m-480 0a480 480 0 1 0 960 0 480 480 0 1 0-960 0Z" fill="#E6686A" p-id="5540"></path><path d="M275.264 488.32h59.52v311.264h-59.52V488.32z m33.536-94.528c14.944 27.648 24.64 55.328 29.088 82.976h64.832c-8.96-35.36-20.128-63.04-33.536-82.976H308.8zM436.8 314.528h71.584V275.328h-129.696c1.504-3.104 3.744-8.448 6.72-16.16 1.472-6.112 2.976-10.72 4.48-13.824H322.752c-10.432 41.504-34.24 72.288-71.52 92.224v39.2c49.152-12.288 84.192-33.024 105.056-62.24h22.4c7.424 19.968 11.904 39.2 13.408 57.632h62.592a292.992 292.992 0 0 0-17.92-57.632z m-29.056 124.512h269.472v253.664c1.504 23.04-8.928 33.792-31.296 32.256H608.96v46.112h53.664c52.16 1.536 77.504-22.304 76-71.488V392.96h-330.88v46.112z" fill="#FFFFFF" p-id="5541"></path><path d="M617.92 480.544h-219.136v232.896h152.064c47.68 1.536 70.08-21.536 67.072-69.152v-163.744z m-158.72 41.504h98.336v53.024H459.2v-53.024z m69.28 149.888h-69.312v-57.664h98.368v27.68c1.504 21.536-8.192 31.52-29.056 29.984zM620.16 273.024a18.24 18.24 0 0 1 2.24-6.944l6.72-20.736h-67.072c-10.464 43.04-33.536 75.328-69.344 96.832v36.896c46.208-12.32 81.28-33.792 105.088-64.576h31.328c7.456 20 11.904 39.232 13.44 57.664h60.32c-1.472-15.36-7.456-34.56-17.92-57.664h78.304V273.024H620.16z" fill="#FFFFFF" p-id="5542"></path></svg></a><a class="VPSocialLink" href="https://github.com/raintreechan" target="_blank" rel="noopener" data-v-dd93e02f data-v-2b25261e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d2c70b18 data-v-19c18b2f><span class="container" data-v-19c18b2f><span class="top" data-v-19c18b2f></span><span class="middle" data-v-19c18b2f></span><span class="bottom" data-v-19c18b2f></span></span></button></div></div></div><!----></header><!----><!----><div class="VPContent" id="VPContent" data-v-1b16a684 data-v-d40340f2><div class="VPDoc has-aside" data-v-d40340f2 data-v-58fac8f1><div class="container" data-v-58fac8f1><div class="aside" data-v-58fac8f1><div class="aside-curtain" data-v-58fac8f1></div><div class="aside-container" data-v-58fac8f1><div class="aside-content" data-v-58fac8f1><div class="VPDocAside" data-v-58fac8f1 data-v-7c021a31><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-7c021a31 data-v-a7a6f0c5><div class="content" data-v-a7a6f0c5><div class="outline-marker" data-v-a7a6f0c5></div><div class="outline-title" data-v-a7a6f0c5>毕竟1米八¹</div><nav aria-labelledby="doc-outline-aria-label" data-v-a7a6f0c5><span class="visually-hidden" id="doc-outline-aria-label" data-v-a7a6f0c5> Table of Contents for current page </span><ul class="root" data-v-a7a6f0c5 data-v-acce073a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-7c021a31></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-58fac8f1><div class="content-container" data-v-58fac8f1><!--[--><!--]--><main class="main" data-v-58fac8f1><div style="position:relative;" class="vp-doc _website_document_index" data-v-58fac8f1><div data-v-75945c5f><div style="opacity:1;" data-v-75945c5f><h1 id="文档" tabindex="-1" data-v-75945c5f>文档 <a class="header-anchor" href="#文档" aria-hidden="true" data-v-75945c5f>#</a></h1><h2 id="parametersui" tabindex="-1" data-v-75945c5f>ParametersUI <a class="header-anchor" href="#parametersui" aria-hidden="true" data-v-75945c5f>#</a></h2><p data-v-75945c5f>穗平台资金托管业务组件库</p><ul data-v-75945c5f><li data-v-75945c5f><a href="https://raintreechan.github.io/parameters-ui/" target="_blank" rel="noreferrer" data-v-75945c5f>地址</a></li></ul><h2 id="穗平台小程序" tabindex="-1" data-v-75945c5f>穗平台小程序 <a class="header-anchor" href="#穗平台小程序" aria-hidden="true" data-v-75945c5f>#</a></h2><h3 id="前言" tabindex="-1" data-v-75945c5f>前言 <a class="header-anchor" href="#前言" aria-hidden="true" data-v-75945c5f>#</a></h3><blockquote data-v-75945c5f><p data-v-75945c5f>随着团队规模的扩大与项目迭代的深入，统一的技术规范与高效的协作模式已成为保障开发质量、提升交付效率的核心前提。本技术文档旨在为团队成员（尤其是新加入的小伙伴）提供清晰的工作指引，通过系统化梳理项目架构、开发流程、编码规范及核心模块设计，解决以下关键问题：</p><p data-v-75945c5f>➢ <strong data-v-75945c5f>降低上手门槛</strong>：通过结构化的内容呈现，帮助新人快速理解项目背景、技术栈选型及核心业务逻辑，减少因信息不对称导致的适应周期过长问题；<br data-v-75945c5f> ➢ <strong data-v-75945c5f>统一开发标准</strong>：明确代码风格、命名规范、提交规范等细节要求，避免因个人习惯差异造成的代码维护成本上升，确保团队输出的一致性； <br data-v-75945c5f> ➢ <strong data-v-75945c5f>提升协作效率</strong>：梳理前后端对接流程、资源管理规范及问题反馈机制，减少跨角色协作中的沟通损耗，让团队精力更聚焦于业务实现而非流程磨合。</p><p data-v-75945c5f>文档将随项目迭代持续更新，若各位在使用过程中发现内容滞后或存在歧义，欢迎随时提出补充建议。期待通过这份文档，让每一位团队成员都能快速融入开发节奏，共同推动项目高效、规范地向前推进。</p></blockquote><h3 id="一、前端技术栈" tabindex="-1" data-v-75945c5f>一、前端技术栈 <a class="header-anchor" href="#一、前端技术栈" aria-hidden="true" data-v-75945c5f>#</a></h3><ol data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>uniapp</strong></li><li data-v-75945c5f><strong data-v-75945c5f>vue2</strong></li><li data-v-75945c5f><strong data-v-75945c5f>vuex3.x</strong></li><li data-v-75945c5f><strong data-v-75945c5f>uView1.x</strong></li><li data-v-75945c5f><strong data-v-75945c5f>scss</strong></li><li data-v-75945c5f><strong data-v-75945c5f>支付宝小程序</strong>（目前只支持该平台）</li></ol><h3 id="二、安装和启动以及打包项目" tabindex="-1" data-v-75945c5f>二、安装和启动以及打包项目 <a class="header-anchor" href="#二、安装和启动以及打包项目" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>本项目基于<strong data-v-75945c5f>uniapp</strong>脚手架构建，需通过命令行工具执行开发、编译等操作。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 安装依赖</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>npm i</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 运行项目</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>npm run </span><span style="color:#FFCB6B;" data-v-75945c5f>dev</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f>mp</span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#A6ACCD;" data-v-75945c5f>alipay</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>npm i</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 打包项目</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>npm run </span><span style="color:#FFCB6B;" data-v-75945c5f>build</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f>mp</span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#A6ACCD;" data-v-75945c5f>alipay</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><h3 id="三、本地调试预览项目" tabindex="-1" data-v-75945c5f>三、本地调试预览项目 <a class="header-anchor" href="#三、本地调试预览项目" aria-hidden="true" data-v-75945c5f>#</a></h3><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>安装开发者工具</strong>： <ul data-v-75945c5f><li data-v-75945c5f>访问支付宝开放平台 ，注册并登录开发者账号。</li><li data-v-75945c5f>下载并安装支付宝开发者工具。</li><li data-v-75945c5f>安装完成后，使用支付宝扫码登录开发者工具。</li></ul></li><li data-v-75945c5f><strong data-v-75945c5f>导入项目</strong>： <ul data-v-75945c5f><li data-v-75945c5f>在开发者工具中点击「项目」→「导入」</li><li data-v-75945c5f>选择项目路径： <ul data-v-75945c5f><li data-v-75945c5f>开发环境：dist\dev\mp-alipay（实时编译目录，用于开发调试）</li><li data-v-75945c5f>生产环境：dist\build\mp-alipay（最终发布目录，用于上传审核）</li></ul></li><li data-v-75945c5f>填写项目信息： <ul data-v-75945c5f><li data-v-75945c5f>项目名称：自定义（如&quot;穗平台&quot;）</li><li data-v-75945c5f>小程序AppID：从支付宝开放平台获取</li></ul></li><li data-v-75945c5f>点击「导入」完成配置</li></ul></li></ul><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>若要确保开发工具能正常访问项目及相关接口，需按以下步骤操作：先联系项目管理员，提供你的支付宝账号，申请加入「小程序开发者列表」以获得开发者权限；完成后，在支付宝开发工具中关联对应的小程序即可。</p></div><p data-v-75945c5f><a data-fancybox id="1" href="./images/1.jpg" rel="external nofollow" data-v-75945c5f><img src="/website/assets/1.9f1f8086.jpg" alt="1" data-v-75945c5f></a></p><h3 id="四、项目目录" tabindex="-1" data-v-75945c5f>四、项目目录 <a class="header-anchor" href="#四、项目目录" aria-hidden="true" data-v-75945c5f>#</a></h3><div class="language-markdown line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>markdown</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 项目根目录主要文件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>├── build/                 # 微信小程序自动构建配置</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>├── chore/                 # 支付宝小程序自动构建配置</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>├── dist/                  # 代码运行时和打包后的目录</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>└── src/</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── components/       # 公共组件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── http/              # 网络请求和拦截器配置</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── pages/             # 主包页面</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── subPages/          # 分包页面</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── tab/               # Tabbar图标资源</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── store/             # 全局状态管理工具</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── styles/            # 全局scss样式</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    └── utils/             # 工具函数</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f></div></div><h3 id="五、项目规范" tabindex="-1" data-v-75945c5f>五、项目规范 <a class="header-anchor" href="#五、项目规范" aria-hidden="true" data-v-75945c5f>#</a></h3><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>函数命名</strong>：动词开头+使用驼峰式命名（camelCase）+体现业务含义。 <ul data-v-75945c5f><li data-v-75945c5f>数据获取（列表、详情） <ul data-v-75945c5f><li data-v-75945c5f>核心动词：get（获取）、load（加载）</li></ul></li><li data-v-75945c5f>数据提交 / 保存 / 上传（表单提交、上传数据） <ul data-v-75945c5f><li data-v-75945c5f>核心动词：submit（提交）、save（保存）、create（创建）、upload（上传）</li></ul></li><li data-v-75945c5f>数据更新 / 修改 <ul data-v-75945c5f><li data-v-75945c5f>核心动词：update（更新）、modify（修改）、edit（编辑）</li></ul></li><li data-v-75945c5f>数据删除 / 移除</li><li data-v-75945c5f>路由跳转 <ul data-v-75945c5f><li data-v-75945c5f>核心动词：to（前往）、navigateTo（导航到）、go（跳转）</li><li data-v-75945c5f>结合目标页面名称</li></ul></li><li data-v-75945c5f>数据更新 / 修改</li></ul></li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 获取商品列表</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>getGoodsList</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 获取商品详情</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>getGoodsDetail</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 加载历史记录</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>loadHistoryRecords</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 提交表单</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>submitUserForm</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 保存配置</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>saveSystemConfig</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 创建订单</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>createOrder</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 上传图片</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>uploadImage</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 上传文件</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>uploadFile</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 上传视频</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>uploadVideo</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 更新用户信息</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>updateUserInfo</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 修改密码</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>modifyPassword</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 编辑购物车</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>editShoppingCart</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 删除选中项</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>deleteSelectedItems</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 移除标签</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>removeTag</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 清空缓存</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>clearCache</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 前往详情页</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>toDetailPage</span><span style="color:#A6ACCD;" data-v-75945c5f>(id) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 导航到首页</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>navigateToHome</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 跳转到编辑页</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>goEditPage</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>Vue模板和样式分离</strong>：css样式太多，维护性低；可读性低，影响观感，需要抽离。</li></ul><div class="language-css line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>css</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// index/index</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>scss</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>page-home</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#B2CCD6;" data-v-75945c5f>min-height</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>100vh</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#B2CCD6;" data-v-75945c5f>background-color</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>#</span><span style="color:#A6ACCD;" data-v-75945c5f>fff</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f></div></div><div class="language-css line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>css</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// index/index</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>&lt;</span><span style="color:#FFCB6B;" data-v-75945c5f>style</span><span style="color:#A6ACCD;" data-v-75945c5f> lang=&quot;scss&quot; scoped</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>@import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>./index.scss</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>&lt;/</span><span style="color:#FFCB6B;" data-v-75945c5f>style</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f></div></div><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>最外层CSS命名规则</strong>： <ul data-v-75945c5f><li data-v-75945c5f>页面组件：建议使用page-前缀，后跟页面名称（kebab-case格式）。</li><li data-v-75945c5f>通用组件：建议使用cmp-或组件名作为前缀（kebab-case格式）。</li><li data-v-75945c5f>业务组件：可以使用业务模块前缀，如order-、goods-等。</li></ul></li></ul><div class="language-html line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>html</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>class</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>page-home</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>&lt;!-- 页面内容 --&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-html line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>html</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>class</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>page-home</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>&lt;!-- 页面内容 --&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-html line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>html</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>class</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>order-card</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>&lt;!-- 业务组件内容 --&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-markdown line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>markdown</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 目录结构区分</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>src/</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>├── components/</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│   ├── common/          # 通用组件（可全局复用）</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│   │   ├── CmpDialog.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│   │   ├── CmpConfirm.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│   │   └── ...</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│   └── business/        # 业务组件（仅特定模块复用）</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│       ├── order/       # 订单相关业务组件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│       │   ├── OrderCard.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│       │   └── OrderStatus.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│       └── goods/       # 商品相关业务组件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│           ├── GoodsList.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>│           └── GoodsItem.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>└── pages/               # 页面组件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    ├── order/           # 订单相关页面组件</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    │   ├── index.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    │   └── detail.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    └── ...</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f></div></div><ul data-v-75945c5f><li data-v-75945c5f><p data-v-75945c5f><strong data-v-75945c5f>Git分支规范</strong>：</p></li><li data-v-75945c5f><p data-v-75945c5f><strong data-v-75945c5f>Git提交规范</strong>：</p><ul data-v-75945c5f><li data-v-75945c5f>格式： <ul data-v-75945c5f><li data-v-75945c5f>&lt;类型&gt;[可选范围]: &lt;描述&gt;</li></ul></li><li data-v-75945c5f>类型（必填）： <ul data-v-75945c5f><li data-v-75945c5f>fix：修复bug</li><li data-v-75945c5f>feat：新增功能</li><li data-v-75945c5f>docs：文档变更（如README、注释）</li><li data-v-75945c5f>style：格式调整（不影响代码逻辑，如空格、分号）</li><li data-v-75945c5f>refactor：代码重构（既不修复bug也不新增功能）</li><li data-v-75945c5f>test：添加或修改测试</li><li data-v-75945c5f>chore：构建过程或辅助工具的变更</li><li data-v-75945c5f>perf：性能优化</li><li data-v-75945c5f>ci：CI/CD配置变更</li></ul></li><li data-v-75945c5f>范围（可选）：说明影响的模块或功能（如auth、api、frontend）。</li><li data-v-75945c5f>描述（必填）：简短描述变更内容（使用祈使句，首字母小写，不超过50字符）。</li></ul></li></ul><div class="language-markdown line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>markdown</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>fix(auth): 修复登录时的密码验证错误</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>feat(user): 添加用户头像上传功能</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>docs: 更新README中的安装步骤</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><h3 id="六、多环境配置" tabindex="-1" data-v-75945c5f>六、多环境配置 <a class="header-anchor" href="#六、多环境配置" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>在实际开发中，一个项目通常会经历开发环境（本地调试）、测试环境（QA验证）、生产环境（线上发布）等多个阶段。不同阶段的配置参数往往存在差异，而多环境配置的核心价值就在于——将这些环境专属的参数分别存储在独立配置文件中，无需手动修改代码，只需通过简单操作（如切换命令或选择环境）即可实现参数的一键切换。</p><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>定义环境变量</strong>：</li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// .env.development</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 开发环境</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>VUE_APP_BASE_API_URL</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#FFCB6B;" data-v-75945c5f>https</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#676E95;" data-v-75945c5f>//tuoyu.parameters.cn/gzsax-ty</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// .env.production</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 正式环境</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>VUE_APP_BASE_API_URL</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#FFCB6B;" data-v-75945c5f>https</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#676E95;" data-v-75945c5f>//tuoyu.parameters.cn/gzsax-ty-pro</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>配置运行命令</strong>： 在package.json的scripts中定义不同环境的运行/打包命令，通过NODE_ENV参数指定环境。</li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>scripts</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#F07178;" data-v-75945c5f>: </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#F07178;" data-v-75945c5f>dev:mp-alipay</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>cross-env NODE_ENV=development UNI_PLATFORM=mp-alipay vue-cli-service uni-build --watch</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#F07178;" data-v-75945c5f>build:mp-alipay</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>cross-env NODE_ENV=production UNI_PLATFORM=mp-alipay vue-cli-service uni-build</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f></div></div><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>在代码中使用环境变量</strong></li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#A6ACCD;" data-v-75945c5f> baseUrl </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> process</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>env</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>VUE_APP_BASE_API_URL</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>baseUrl</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><h3 id="七、生产环境移除调试信息" tabindex="-1" data-v-75945c5f>七、生产环境移除调试信息 <a class="header-anchor" href="#七、生产环境移除调试信息" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>前端项目调试是开发过程中不可或缺的环节，console系列方法作为基础调试工具，能帮助开发者快速定位变量值、接口返回、逻辑分支等关键信息，既提升问题排查效率，也为代码质量提供保障。<br data-v-75945c5f> 但在生产环境中，这些调试信息需及时清理。 既能避免敏感信息泄露，也能减少不必要的性能消耗。以下通过一行代码统一覆盖所有控制台输出：</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// main.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#A6ACCD;" data-v-75945c5f> (process</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>env</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>NODE_ENV </span><span style="color:#89DDFF;" data-v-75945c5f>===</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>production</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>log</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>info</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>warn</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>error</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>debug</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>()</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{};</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><h3 id="八、静态资源" tabindex="-1" data-v-75945c5f>八、静态资源 <a class="header-anchor" href="#八、静态资源" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>因小程序存在体积限制，目前采用两项优化措施：</p><ol data-v-75945c5f><li data-v-75945c5f>代码层面实施分包subPackages架构。</li><li data-v-75945c5f>将静态资源统一上传至OSS平台管理。 使用全局混入把静态资源的URL统一挂载到Vue实例上。这样一来，在任意Vue组件文件中，都能直接使用这些静态资源URL，而不需要反复进行导入操作。</li></ol><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// ossMixin.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>default</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>computed</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#F07178;" data-v-75945c5f>$oss</span><span style="color:#89DDFF;" data-v-75945c5f>()</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>https://anxin-public.oss-cn-shenzhen.aliyuncs.com/gzsaxtuoyu/tuoyu-alipay</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// main.js全局引入</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> ossMixin </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/ossMixin.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>mixin</span><span style="color:#A6ACCD;" data-v-75945c5f>(ossMixin)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-html line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>html</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>image</span><span style="color:#89DDFF;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>:src</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>$oss + &#39;/icon-close.png&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f> /&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>涉及静态资源更新时，需联系后端开发同事协助上传至OSS平台。</p></div><h3 id="九、全局sass" tabindex="-1" data-v-75945c5f>九、全局SASS <a class="header-anchor" href="#九、全局sass" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>配置sass公共样式，通过集中定义主题色、辅助样式及通用布局规则。实现 “一处修改、全局同步”，既保证页面与组件样式的统一性，减少重复代码；又能大幅降低后期样式调整的成本，提升开发效率与代码可维护性。</p><div class="language-css line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>css</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// styles/global</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>scss</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 主色调</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>$</span><span style="color:#FFCB6B;" data-v-75945c5f>primary-color</span><span style="color:#A6ACCD;" data-v-75945c5f>: </span><span style="color:#89DDFF;" data-v-75945c5f>#</span><span style="color:#A6ACCD;" data-v-75945c5f>1cc986;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 辅助色</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>$</span><span style="color:#FFCB6B;" data-v-75945c5f>sub-color</span><span style="color:#A6ACCD;" data-v-75945c5f>: </span><span style="color:#89DDFF;" data-v-75945c5f>#</span><span style="color:#A6ACCD;" data-v-75945c5f>ff580f;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 主背景颜色</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>$</span><span style="color:#FFCB6B;" data-v-75945c5f>bg-color</span><span style="color:#A6ACCD;" data-v-75945c5f>: </span><span style="color:#89DDFF;" data-v-75945c5f>#</span><span style="color:#A6ACCD;" data-v-75945c5f>f6f6f6;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 垂直水平居中</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>@mixin</span><span style="color:#A6ACCD;" data-v-75945c5f> flex-center </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    display: flex;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#FFCB6B;" data-v-75945c5f>justify-content</span><span style="color:#A6ACCD;" data-v-75945c5f>: center;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#FFCB6B;" data-v-75945c5f>align-items</span><span style="color:#A6ACCD;" data-v-75945c5f>: center;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f></div></div><div class="language-css line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>css</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>scss全局导入</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>@import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/styles/global.scss</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><div class="language-css line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>css</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#FFCB6B;" data-v-75945c5f>active</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#B2CCD6;" data-v-75945c5f>color</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> $primary-color</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    @include flex-center()</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f></div></div><h3 id="十、vuex全局状态管理" tabindex="-1" data-v-75945c5f>十、VUEX全局状态管理 <a class="header-anchor" href="#十、vuex全局状态管理" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>使用uView内置的vuex，结合全局混入机制，可让所有组件无需手动引入就能直接访问全局状态，大幅减少重复编码；同时封装通用mutation方法，支持动态更新任意state变量；进一步简化状态管理流程，让状态操作更高效、代码更简洁。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// store/index.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> store </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>new</span><span style="color:#A6ACCD;" data-v-75945c5f> Vuex</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>Store</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>state</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#F07178;" data-v-75945c5f>vuex_user</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> lifeData</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_user</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>?</span><span style="color:#A6ACCD;" data-v-75945c5f> lifeData</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_user </span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>mutations</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#F07178;" data-v-75945c5f>$uStore</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>user</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>info</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>score</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>split</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>.</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>saveKey</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>len</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>length</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>length</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&gt;=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>obj</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#F07178;" data-v-75945c5f>]]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>for</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>len</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#89DDFF;" data-v-75945c5f>++</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#A6ACCD;" data-v-75945c5f>obj</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>obj</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f>]]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>obj</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>len</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#F07178;" data-v-75945c5f>]] </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>saveKey</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>nameArr</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#F07178;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>else</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>name</span><span style="color:#F07178;" data-v-75945c5f>] </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>saveKey</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>payload</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>            </span><span style="color:#676E95;" data-v-75945c5f>// 保存变量到本地</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#82AAFF;" data-v-75945c5f>saveLifeData</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>saveKey</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>saveKey</span><span style="color:#F07178;" data-v-75945c5f>])</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> saveLifeData </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>function</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>key</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>saveStateKeys</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>indexOf</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>key</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>!==</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>getStorageSync</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>lifeData</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f>        </span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>?</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{};</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>key</span><span style="color:#F07178;" data-v-75945c5f>] </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>setStorageSync</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>lifeData</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tmp</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>26</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>27</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>28</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>29</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>30</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>31</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>32</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>33</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>34</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>35</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>36</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>37</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// store/$u.mixin.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>mapState</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>vuex</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> store </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/store</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#A6ACCD;" data-v-75945c5f> $uStoreKey </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> []</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>try</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>$uStoreKey</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>store</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>?</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>Object</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>keys</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>store</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> []</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>catch</span><span style="color:#A6ACCD;" data-v-75945c5f> (e) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>log</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>e</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>default</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>created</span><span style="color:#89DDFF;" data-v-75945c5f>()</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>        </span><span style="color:#676E95;" data-v-75945c5f>// 将vuex方法挂在到$u中</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>vuex</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$store</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>commit</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>$uStore</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>computed</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>        </span><span style="color:#676E95;" data-v-75945c5f>// 将vuex的state中的所有变量，解构到全局混入的mixin中</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#82AAFF;" data-v-75945c5f>mapState</span><span style="color:#A6ACCD;" data-v-75945c5f>($uStoreKey)</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>26</span><br data-v-75945c5f></div></div><div class="language-html line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>html</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>text</span><span style="color:#89DDFF;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>class</span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#C3E88D;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>&quot;</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    {{ vuex_user.nickName || &#39;支付宝用户&#39;}}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>text</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>script</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>vuex</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>vuex_token</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>script</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><h3 id="十一、http请求和拦截器配置" tabindex="-1" data-v-75945c5f>十一、HTTP请求和拦截器配置 <a class="header-anchor" href="#十一、http请求和拦截器配置" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>对HTTP请求的合理封装是提升代码可维护性与扩展性的核心环节。基于uView内置的http请求能力，可从基础封装、拦截器配置、API集中管理三个维度构建一套清晰高效的请求方案，既统一请求规范，又简化接口调用流程，让前后端交互逻辑更易维护、更易扩展。</p><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>HTTP请求基础封装</strong>：依托uView的http方法 <ul data-v-75945c5f><li data-v-75945c5f>封装全局请求函数</li><li data-v-75945c5f>统一处理基础配置（如baseURL、默认请求头）</li></ul></li><li data-v-75945c5f><strong data-v-75945c5f>拦截器配置</strong>：统一处理请求 / 响应逻辑 <ul data-v-75945c5f><li data-v-75945c5f>请求头携带Token</li><li data-v-75945c5f>Token过期401状态，重新静默授权</li><li data-v-75945c5f>系统异常，上传错误日志</li></ul></li><li data-v-75945c5f><strong data-v-75945c5f>API集中管理</strong>：避免接口散落在业务代码中 把各个请求，统一放到一个文件中进行管理， 使用Vue的插件系统（install方法）实现全局方法注册，使组件无需显式引入即可调用接口函数。</li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// http/http.interceptor.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>baseUrl</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/base.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> install </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#FFCB6B;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>prototype</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>http</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>setConfig</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>baseUrl</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        method</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>POST</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        loadingText</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>请稍候</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        loadingTime</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1000</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        dataType</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>json</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        originalData</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>true</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        showLoading</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// http/http.interceptor.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> install </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#FFCB6B;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>prototype</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>http</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>interceptor</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>request</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>        </span><span style="color:#676E95;" data-v-75945c5f>// 携带token</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_token</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>header</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>Authorization</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>Bearer </span><span style="color:#89DDFF;" data-v-75945c5f>${</span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_token</span><span style="color:#89DDFF;" data-v-75945c5f>}`</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$g</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>options</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>header</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>appOptions</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>JSON</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>stringify</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$g</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>options</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>url</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>url</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>+=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`${</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>                config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>url</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>includes</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>?</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>?</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>&amp;</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>?</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#C3E88D;" data-v-75945c5f>t=</span><span style="color:#89DDFF;" data-v-75945c5f>${</span><span style="color:#A6ACCD;" data-v-75945c5f>Date</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>now</span><span style="color:#A6ACCD;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>}`</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_token</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&amp;&amp;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>url</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&amp;&amp;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>url</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>includes</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>authorize</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>)) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>config</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#FFCB6B;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>prototype</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>http</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>interceptor</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>response</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>statusCode</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>==</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>200</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>            </span><span style="color:#676E95;" data-v-75945c5f>// 校验不通过</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>code</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&amp;&amp;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>code</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>!=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&amp;&amp;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>code</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>!=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>401</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>showToast</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    title</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>?.</span><span style="color:#A6ACCD;" data-v-75945c5f>msg</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>||</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>系统异常</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    icon</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>none</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>else</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>code</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>==</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>401</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>vuex</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>vuex_token</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>                </span><span style="color:#676E95;" data-v-75945c5f>// 用户信息授权</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>vuex</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>vuex_isAuthReject</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>lock</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#A6ACCD;" data-v-75945c5f>lock</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>true</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>lockTimeout</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                        </span><span style="color:#82AAFF;" data-v-75945c5f>clearTimeout</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>lockTimeout</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#A6ACCD;" data-v-75945c5f>lockTimeout</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>setTimeout</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>()</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                        </span><span style="color:#A6ACCD;" data-v-75945c5f>lock</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#89DDFF;" data-v-75945c5f>},</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>10000</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#82AAFF;" data-v-75945c5f>initAuthPage</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>auth_base</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>true</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>else</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>console</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>log</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>系统异常</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>            </span><span style="color:#676E95;" data-v-75945c5f>// 全局异常</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>showToast</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                title</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>?.</span><span style="color:#A6ACCD;" data-v-75945c5f>msg</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>||</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>系统异常</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                icon</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>none</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>            </span><span style="color:#676E95;" data-v-75945c5f>// 上传错误日志</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#82AAFF;" data-v-75945c5f>sendErrorLog</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>26</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>27</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>28</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>29</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>30</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>31</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>32</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>33</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>34</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>35</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>36</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>37</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>38</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>39</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>40</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>41</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>42</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>43</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>44</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>45</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>46</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>47</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>48</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>49</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>50</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>51</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>52</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>53</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>54</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>55</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>56</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>57</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>58</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// http/http.api.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> install </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 获取门店列表</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>getStoreList</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>params</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{})</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>apiLink</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>/api/ty/store/page</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>post</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>apiLink</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>params</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>vm</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>api </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    getStoreList</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>api</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>getStoreList</span><span style="color:#A6ACCD;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>then</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#89DDFF;" data-v-75945c5f>{}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f></div></div><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>uView1.x的HTTP请求只支持post、get、put和delete方式，目前不适用于其他的请求形式，比如上传，下载等。涉及上传图片时，使用uni.uploadFile()方法即可。</p></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 上传合同</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>baseUrl</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/base.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>uploadFile</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>url</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`${</span><span style="color:#A6ACCD;" data-v-75945c5f>baseUrl</span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#C3E88D;" data-v-75945c5f>/api/ty/contract/signContract</span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>filePath</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> e</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#676E95;" data-v-75945c5f>// 合同图片临时路径</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>fileType</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>image</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>header</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#F07178;" data-v-75945c5f>Authorization</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>Bearer </span><span style="color:#89DDFF;" data-v-75945c5f>${</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_token</span><span style="color:#89DDFF;" data-v-75945c5f>}`</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 图片外的参数</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>formData</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#F07178;" data-v-75945c5f>orderId</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId  </span><span style="color:#676E95;" data-v-75945c5f>// 订单id字段</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>file</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#676E95;" data-v-75945c5f>// 合同图片字段</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#82AAFF;" data-v-75945c5f>success</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>async</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>uploadFileRes</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>toast</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>签约成功</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f>    </span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f></div></div><h3 id="十二、枚举" tabindex="-1" data-v-75945c5f>十二、枚举 <a class="header-anchor" href="#十二、枚举" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>为提升代码的可维护性与可读性，我们通常会对订单状态这类具有固定取值范围的数据进行集中管理。通过创建专门的枚举文件，可以将订单生命周期中的各种状态（如待支付、已支付、已完成、已取消等）以枚举对象的形式进行统一定义与导出。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// utils/enum.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 订单状态</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> orderStatus </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> [</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>已取消</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>待付款</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>已支付</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>已退款</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>4</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>已完成</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 退款状态</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> refundStatus </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> [</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>被拒绝</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>审核中</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>通过</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>未发起退款</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 划拨状态</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> transferStatus </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> [</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>待划拨</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>确认划拨</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>已划拨</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>name</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>划拨中</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>]</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>text</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;{{</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F07178;" data-v-75945c5f>onTransferStatus</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>order.orderStatus</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}}&lt;/</span><span style="color:#F07178;" data-v-75945c5f>text</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>script</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    import </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#A6ACCD;" data-v-75945c5f> transferStatus </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> from &#39;@/utils/enum.js&#39;;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    onTransferStatus(status) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        const statusItem </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> transferStatus</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>find</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>item</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#A6ACCD;" data-v-75945c5f> item</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>value </span><span style="color:#89DDFF;" data-v-75945c5f>==</span><span style="color:#A6ACCD;" data-v-75945c5f> status</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        );</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        return statusItem </span><span style="color:#89DDFF;" data-v-75945c5f>?</span><span style="color:#A6ACCD;" data-v-75945c5f> statusItem</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>name </span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/</span><span style="color:#F07178;" data-v-75945c5f>script</span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f></div></div><h3 id="十三、沉浸式标题" tabindex="-1" data-v-75945c5f>十三、沉浸式标题 <a class="header-anchor" href="#十三、沉浸式标题" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>在部分页面中，存在一种沉浸式标题栏效果：当下拉页面时，标题会以淡入方式显示。为更便捷地维护这一效果，使用了Vue的全局混入方法。<br data-v-75945c5f> 该方法的使用逻辑十分清晰：只要页面中存在pageTitle变量，即代表开启此效果。通过这种简洁的判断机制，既能确保效果的统一实现，又能让开发者轻松掌控效果的启用状态，有效减少了重复开发工作，提升了页面功能维护的效率。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// utils/scrollTitleMixin.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>default</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#F07178;" data-v-75945c5f>onPageScroll</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>e</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#676E95;" data-v-75945c5f>// 获取当前页面路由</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>pages</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>getCurrentPages</span><span style="color:#F07178;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>pages</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>||</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>pages</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>length</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>===</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>currentPage</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>pages</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>pages</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>length</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>-</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#F07178;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>pageTitle</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>currentPage</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>pageTitle</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>pageTitle</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>e</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>scrollTop</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>100</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>setNavigationBarTitle</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    title</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>pageTitle</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>||</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>穗平台</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>else</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>uni</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>setNavigationBarTitle</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    title</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>};</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// main.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> scrollTitleMixin </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/scrollTitleMixin.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>Vue</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>mixin</span><span style="color:#A6ACCD;" data-v-75945c5f>(scrollTitleMixin)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>data</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        pageTitle</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>订单详情</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f></div></div><h3 id="十四、节流防抖" tabindex="-1" data-v-75945c5f>十四、节流防抖 <a class="header-anchor" href="#十四、节流防抖" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>在前端开发中，诸如按钮点击、滚动监听、窗口resize、搜索框输入联想等高频触发场景，极易引发接口重复请求、性能问题或非预期行为。使用uView内置的节流（throttle）与防抖（debounce）函数，为这类问题提供了优雅的解决方案，能够在不改变业务逻辑的前提下显著减少接口重复调用，提升应用性能与用户体验。</p><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>节流（Throttle）</strong>：限制函数在一定时间内的执行次数，确保在指定时间间隔内只执行一次。 <ul data-v-75945c5f><li data-v-75945c5f>滚动加载更多数据（如无限滚动列表，避免短时间内多次触发加载接口）</li><li data-v-75945c5f>窗口resize事件处理（避免频繁触发布局计算接口）</li><li data-v-75945c5f>高频事件（如mousemove、touchmove）</li></ul></li><li data-v-75945c5f><strong data-v-75945c5f>防抖（Debounce）</strong>：将多次高频触发的事件合并为一次执行，只在最后一次触发后等待指定时间再执行函数。 <ul data-v-75945c5f><li data-v-75945c5f>搜索框实时联想（避免每输入一个字符就请求API）</li><li data-v-75945c5f>按钮快速点击（防止重复提交）</li></ul></li></ul><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f>view</span><span style="color:#89DDFF;" data-v-75945c5f> @tap=&quot;$u.throttle(isMe, 500)&quot;&gt;陈雨树&lt;/view&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;view @tap=&quot;onHandsome&quot;&gt;陈雨树&lt;/view&gt;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;script&gt;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    onHandsome() {</span><span style="color:#A6ACCD;" data-v-75945c5f>	</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>throttle</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>isMe</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>500</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>	</span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    isMe() {</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>&lt;/script&gt;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f></div></div><h3 id="十五、路由跳转和吐司" tabindex="-1" data-v-75945c5f>十五、路由跳转和吐司 <a class="header-anchor" href="#十五、路由跳转和吐司" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>原生路由API（如uni.navigateTo、uni.redirectTo）存在参数冗余、类型校验缺失、错误处理复杂等问题。为此，使用uView内置的路由跳转方法，让路由跳转更简洁、可控，显著降低代码冗余度与维护成本。</p><table data-v-75945c5f><thead data-v-75945c5f><tr data-v-75945c5f><th data-v-75945c5f>参数名</th><th data-v-75945c5f>类型</th><th data-v-75945c5f>默认值</th><th data-v-75945c5f>是否必填</th><th data-v-75945c5f>说明</th></tr></thead><tbody data-v-75945c5f><tr data-v-75945c5f><td data-v-75945c5f>type</td><td data-v-75945c5f>String</td><td data-v-75945c5f>navigateTo</td><td data-v-75945c5f>false</td><td data-v-75945c5f>navigateTo或to对应uni.navigateTo，redirect或redirectTo对应uni.redirectTo，switchTab或tab对应uni.switchTab，reLaunch对应uni.reLaunch，navigateBack或back对应uni.navigateBack</td></tr><tr data-v-75945c5f><td data-v-75945c5f>url</td><td data-v-75945c5f>String</td><td data-v-75945c5f>-</td><td data-v-75945c5f>false</td><td data-v-75945c5f>type为navigateTo，redirectTo，switchTab，reLaunch时为必填</td></tr><tr data-v-75945c5f><td data-v-75945c5f>delta</td><td data-v-75945c5f>Number</td><td data-v-75945c5f>1</td><td data-v-75945c5f>false</td><td data-v-75945c5f>type为navigateBack时用到，表示返回的页面数</td></tr><tr data-v-75945c5f><td data-v-75945c5f>params</td><td data-v-75945c5f>Object</td><td data-v-75945c5f>-</td><td data-v-75945c5f>false</td><td data-v-75945c5f>传递的对象形式的参数</td></tr></tbody></table><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 无参数</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/store/index</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 带参数</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/store/detail</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>	</span><span style="color:#F07178;" data-v-75945c5f>storeId</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>20115457877454541</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// url携带参数</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/store/detail?storeId=</span><span style="color:#89DDFF;" data-v-75945c5f>${</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>storeId</span><span style="color:#89DDFF;" data-v-75945c5f>}`</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>toast</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>请先完成签名</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f></div></div><h3 id="十六、表单验证" tabindex="-1" data-v-75945c5f>十六、表单验证 <a class="header-anchor" href="#十六、表单验证" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>表单验证是前端开发的基础需求，封装的表单验证器能集中管理验证规则（如必填、格式校验），实时反馈错误并拦截无效提交，无需重复编码，适配复杂场景，既保证数据规范，又提升开发效率和用户体验。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// utils/validators.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 身份证</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>function</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>validateIdCard</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>idCard</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 去除空格并转换为大写（处理可能的X/x）</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>idCard</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>trim</span><span style="color:#F07178;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>toUpperCase</span><span style="color:#F07178;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 检查是否为空</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 18位身份证号码正则表达式</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>idCardReg</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>/</span><span style="color:#89DDFF;" data-v-75945c5f>^</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>1-9</span><span style="color:#89DDFF;" data-v-75945c5f>]</span><span style="color:#C3E88D;" data-v-75945c5f>\d</span><span style="color:#89DDFF;" data-v-75945c5f>{5}(</span><span style="color:#C3E88D;" data-v-75945c5f>18</span><span style="color:#89DDFF;" data-v-75945c5f>|</span><span style="color:#C3E88D;" data-v-75945c5f>19</span><span style="color:#89DDFF;" data-v-75945c5f>|</span><span style="color:#C3E88D;" data-v-75945c5f>20</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#C3E88D;" data-v-75945c5f>\d</span><span style="color:#89DDFF;" data-v-75945c5f>{2}(</span><span style="color:#C3E88D;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>1-9</span><span style="color:#89DDFF;" data-v-75945c5f>]|</span><span style="color:#C3E88D;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>0-2</span><span style="color:#89DDFF;" data-v-75945c5f>])(</span><span style="color:#C3E88D;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>1-9</span><span style="color:#89DDFF;" data-v-75945c5f>]|[</span><span style="color:#C3E88D;" data-v-75945c5f>12</span><span style="color:#89DDFF;" data-v-75945c5f>]</span><span style="color:#C3E88D;" data-v-75945c5f>\d</span><span style="color:#89DDFF;" data-v-75945c5f>|</span><span style="color:#C3E88D;" data-v-75945c5f>3</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>01</span><span style="color:#89DDFF;" data-v-75945c5f>])</span><span style="color:#C3E88D;" data-v-75945c5f>\d</span><span style="color:#89DDFF;" data-v-75945c5f>{3}[</span><span style="color:#C3E88D;" data-v-75945c5f>0-9X</span><span style="color:#89DDFF;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>$</span><span style="color:#89DDFF;" data-v-75945c5f>/</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>idCardReg</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>test</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f>)) </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 验证校验位（第18位）</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>length</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>===</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>18</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>factors</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> [</span><span style="color:#F78C6C;" data-v-75945c5f>7</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>9</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>10</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>5</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>8</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>4</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>6</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>3</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>7</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>9</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>10</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>5</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>8</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>4</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>2</span><span style="color:#F07178;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>parityBits</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> [</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>X</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>9</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>8</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>7</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>6</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>5</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>4</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>3</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>2</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        ]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>sum</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>for</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>0</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&lt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>17</span><span style="color:#89DDFF;" data-v-75945c5f>;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#89DDFF;" data-v-75945c5f>++</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>sum</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>+=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>parseInt</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>charAt</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f>)) </span><span style="color:#89DDFF;" data-v-75945c5f>*</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>factors</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>i</span><span style="color:#F07178;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>mod</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>sum</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>%</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#F78C6C;" data-v-75945c5f>11</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>expectedParityBit</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>parityBits</span><span style="color:#F07178;" data-v-75945c5f>[</span><span style="color:#A6ACCD;" data-v-75945c5f>mod</span><span style="color:#F07178;" data-v-75945c5f>]</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>actualParityBit</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>charAt</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#F78C6C;" data-v-75945c5f>17</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>actualParityBit</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>!==</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>expectedParityBit</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 验证通过</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>true</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 手机号码</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>function</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>validatePhone</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>phone</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 去除空格</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>phone</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>trim</span><span style="color:#F07178;" data-v-75945c5f>()</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 检查是否为空</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 手机号正则表达式（更新至2025年，支持当前所有已知号段）</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// 匹配规则：</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// - 以1开头</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// - 第二位不为4（截至2025年，14号段仅用于物联网，不分配给普通用户）</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>    </span><span style="color:#676E95;" data-v-75945c5f>// - 总长度为11位数字</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>phoneReg</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#C3E88D;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>/</span><span style="color:#89DDFF;" data-v-75945c5f>^</span><span style="color:#C3E88D;" data-v-75945c5f>1</span><span style="color:#89DDFF;" data-v-75945c5f>[</span><span style="color:#C3E88D;" data-v-75945c5f>0-35-9</span><span style="color:#89DDFF;" data-v-75945c5f>]</span><span style="color:#C3E88D;" data-v-75945c5f>\d</span><span style="color:#89DDFF;" data-v-75945c5f>{9}</span><span style="color:#89DDFF;" data-v-75945c5f>$</span><span style="color:#89DDFF;" data-v-75945c5f>/</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>phoneReg</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>test</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>value</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>26</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>27</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>28</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>29</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>30</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>31</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>32</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>33</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>34</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>35</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>36</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>37</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>38</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>39</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>40</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>41</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>42</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>43</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>44</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>45</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>46</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>47</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>48</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>49</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>50</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>51</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>52</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>53</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>54</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>55</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>56</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>validatePhone</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/validators.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>let</span><span style="color:#A6ACCD;" data-v-75945c5f> msg </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#A6ACCD;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!</span><span style="color:#82AAFF;" data-v-75945c5f>validatePhone</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>form</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>phone)) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>msg</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>报名人信息-手机号格式错误</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f></div></div><h3 id="十七、登录授权流程" tabindex="-1" data-v-75945c5f>十七、登录授权流程 <a class="header-anchor" href="#十七、登录授权流程" aria-hidden="true" data-v-75945c5f>#</a></h3><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>静默授权获取基础信息</strong>： <ul data-v-75945c5f><li data-v-75945c5f>小程序启动时，会优先尝试静默授权。通过调用支付宝提供的相关接口（如my.getAuthCode，并设置scopes: &#39;auth_base&#39;），在不打扰用户正常使用小程序的情况下，后台自动获取一个授权码（auth_code）。该授权码作为后续获取用户标识（user_id）的关键凭证，全程无需用户手动确认授权，极大提升了用户进入小程序的流畅度。</li></ul></li><li data-v-75945c5f><strong data-v-75945c5f>从授权码到用户标识与访问令牌</strong>： <ul data-v-75945c5f><li data-v-75945c5f>获取到auth_code后，小程序将其发送至后端服务器。后端服务器利用该授权码，调用支付宝的alipay.system.oauth.token接口，此接口会返回用户的唯一标识user_id以及访问令牌（access_token）。</li></ul></li></ul><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>静默授权只能返回user_id，无法直接获取详细的用户信息。</p></div><ul data-v-75945c5f><li data-v-75945c5f><strong data-v-75945c5f>主动授权获取用户信息</strong>：（如头像、昵称、手机号码、身份证等） <ul data-v-75945c5f><li data-v-75945c5f>当用户点击 “立即购买” 时，系统先检查用户信息中是否存在手机号码。若未填写，将通过主动授权（调用my.getAuthCode并设置scopes: &#39;auth_user&#39;）获取用户授权，随后重新调用用户信息接口补全并更新包含手机号码的用户数据。</li></ul></li></ul><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>主动授权会弹出支付宝官方授权弹窗，明确向用户申请获取包括手机号码在内的个人信息权限，需用户手动点击 “同意” 后才能继续。</p></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// App.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>initAuthPage</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>utils/appAuth.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 静默授权</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#A6ACCD;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!this.</span><span style="color:#A6ACCD;" data-v-75945c5f>$store</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>state</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_token) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#82AAFF;" data-v-75945c5f>initAuthPage</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>auth_base</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>true</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// mine.vue</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>initAuthPage</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>utils/appAuth.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 主动授权</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#A6ACCD;" data-v-75945c5f> (</span><span style="color:#89DDFF;" data-v-75945c5f>!this.</span><span style="color:#A6ACCD;" data-v-75945c5f>vuex_user</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>userId) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#82AAFF;" data-v-75945c5f>initAuthPage</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>auth_user</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FF9CAC;" data-v-75945c5f>false</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f></div></div><h3 id="十八、下单业务流程" tabindex="-1" data-v-75945c5f>十八、下单业务流程 <a class="header-anchor" href="#十八、下单业务流程" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>“去签约”按钮是订单创建→签约→支付的串联枢纽，以「15分钟有效期」和「是否签约」 为核心校验条件；覆盖「未签约返回原页/个人中心」「超时未刷新」等分支场景，确保支付动作全程验证这两个条件，让整个下单-支付流程逻辑闭环、无漏洞。</p><p data-v-75945c5f><a data-fancybox id="2" href="./images/2.jpg" rel="external nofollow" data-v-75945c5f><img src="/website/assets/2.4da6b110.jpg" alt="2" data-v-75945c5f></a></p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// main.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> App </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>./App</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> app </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>new</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>Vue</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#A6ACCD;" data-v-75945c5f>App</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 需要导出给外部js使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>default</span><span style="color:#A6ACCD;" data-v-75945c5f> app</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// utils/order.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 获取订单状态</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> app </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/main.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>function</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>getOrderStatus</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>return</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>new</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#FFCB6B;" data-v-75945c5f>Promise</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>resolve</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>reject</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>app</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>api</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>getOrderStatus</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>then</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#82AAFF;" data-v-75945c5f>resolve</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>catch</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>err</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#82AAFF;" data-v-75945c5f>reject</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>err</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>getOrderStatus</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/order.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>async </span><span style="color:#82AAFF;" data-v-75945c5f>onContract</span><span style="color:#A6ACCD;" data-v-75945c5f>() </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>await</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>getOrderStatus</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f></div></div><div class="warning custom-block" data-v-75945c5f><p class="custom-block-title" data-v-75945c5f>注意：</p><p data-v-75945c5f>订单有效期默认15分钟，若前端或测试需调试，可登录Apifox，在对应接口的调试页面中，通过修改 “minutes” 参数来调整有效期时长。</p></div><p data-v-75945c5f><a data-fancybox id="3" href="./images/3.png" rel="external nofollow" data-v-75945c5f><img src="/website/assets/3.d63af222.png" alt="3" data-v-75945c5f></a></p><h3 id="十九、支付" tabindex="-1" data-v-75945c5f>十九、支付 <a class="header-anchor" href="#十九、支付" aria-hidden="true" data-v-75945c5f>#</a></h3><p data-v-75945c5f>用户选定机构套餐，并完成电子合同签约这一系列前置流程后，小程序便会自动拉起支付宝支付验证弹窗。目前，仅支持支付宝这一支付方式 ，但这一方式依托支付宝强大的安全体系与便捷的支付生态，为用户带来诸多优势。</p><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// main.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> App </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>./App</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#C792EA;" data-v-75945c5f>const</span><span style="color:#A6ACCD;" data-v-75945c5f> app </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>new</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>Vue</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#A6ACCD;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>...</span><span style="color:#A6ACCD;" data-v-75945c5f>App</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span>
<span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 需要导出给外部js使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>default</span><span style="color:#A6ACCD;" data-v-75945c5f> app</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// utils/pay.js</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> app </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/main.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>export</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>function</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#82AAFF;" data-v-75945c5f>tradePay</span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tradeNO</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>type</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>=</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>redirectTo</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#A6ACCD;" data-v-75945c5f>my</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>tradePay</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#A6ACCD;" data-v-75945c5f>tradeNO</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#82AAFF;" data-v-75945c5f>success</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>if</span><span style="color:#F07178;" data-v-75945c5f> (</span><span style="color:#A6ACCD;" data-v-75945c5f>res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>resultCode</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>==</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>9000</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#F07178;" data-v-75945c5f>) </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>app</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#A6ACCD;" data-v-75945c5f>type</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    url</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/pay/index?payStatus=1&amp;orderId=</span><span style="color:#89DDFF;" data-v-75945c5f>${</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span><span style="color:#89DDFF;" data-v-75945c5f>}`</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>else</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>app</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    </span><span style="color:#A6ACCD;" data-v-75945c5f>type</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                    url</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/pay/index?payStatus=0</span><span style="color:#89DDFF;" data-v-75945c5f>`</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>},</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#82AAFF;" data-v-75945c5f>fail</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>(</span><span style="color:#A6ACCD;" data-v-75945c5f>error</span><span style="color:#89DDFF;" data-v-75945c5f>)</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#C792EA;" data-v-75945c5f>=&gt;</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#A6ACCD;" data-v-75945c5f>app</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>$u</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#82AAFF;" data-v-75945c5f>route</span><span style="color:#F07178;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>{</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                </span><span style="color:#A6ACCD;" data-v-75945c5f>type</span><span style="color:#89DDFF;" data-v-75945c5f>,</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>                url</span><span style="color:#89DDFF;" data-v-75945c5f>:</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>`</span><span style="color:#C3E88D;" data-v-75945c5f>/pages/pay/index?payStatus=0</span><span style="color:#89DDFF;" data-v-75945c5f>`</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>            </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>        </span><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f><span style="color:#F07178;" data-v-75945c5f>    </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#F07178;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>}</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>4</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>5</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>6</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>7</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>8</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>9</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>10</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>11</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>12</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>13</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>14</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>15</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>16</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>17</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>18</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>19</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>20</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>21</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>22</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>23</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>24</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>25</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>26</span><br data-v-75945c5f></div></div><div class="language-js line-numbers-mode" data-v-75945c5f><button title="Copy Code" class="copy" data-v-75945c5f></button><span class="lang" data-v-75945c5f>js</span><pre data-v-75945c5f><code data-v-75945c5f><span class="line" data-v-75945c5f><span style="color:#676E95;" data-v-75945c5f>// 组件使用</span></span>
<span class="line" data-v-75945c5f><span style="color:#89DDFF;" data-v-75945c5f>import</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>{</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#A6ACCD;" data-v-75945c5f>tradePay</span><span style="color:#F07178;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>}</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>from</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>@/utils/pay.js</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f><span style="color:#82AAFF;" data-v-75945c5f>tradePay</span><span style="color:#A6ACCD;" data-v-75945c5f>(</span><span style="color:#89DDFF;" data-v-75945c5f>this.</span><span style="color:#A6ACCD;" data-v-75945c5f>orderId</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> res</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>data</span><span style="color:#89DDFF;" data-v-75945c5f>.</span><span style="color:#A6ACCD;" data-v-75945c5f>tradeNo</span><span style="color:#89DDFF;" data-v-75945c5f>,</span><span style="color:#A6ACCD;" data-v-75945c5f> </span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#C3E88D;" data-v-75945c5f>navigateTo</span><span style="color:#89DDFF;" data-v-75945c5f>&#39;</span><span style="color:#A6ACCD;" data-v-75945c5f>)</span><span style="color:#89DDFF;" data-v-75945c5f>;</span></span>
<span class="line" data-v-75945c5f></span></code></pre><div class="line-numbers-wrapper" data-v-75945c5f><span class="line-number" data-v-75945c5f>1</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>2</span><br data-v-75945c5f><span class="line-number" data-v-75945c5f>3</span><br data-v-75945c5f></div></div></div></div></div></main><!--[--><!--]--><!----><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"about_index.md\":\"dd01fa7a\",\"api_index.md\":\"d218ecae\",\"blog_design_index.md\":\"6cc0086f\",\"blog_node_index.md\":\"6bd42ab9\",\"blog_vue_vue3自定义hooks实现轻量级全局状态管理.md\":\"0f11c082\",\"components_index.md\":\"4f93621d\",\"document_index.md\":\"2772627f\",\"index-home.md\":\"0f23936c\",\"index.md\":\"afdc32bc\",\"logo_index.md\":\"f755555f\",\"project_index.md\":\"b2759dce\"}")</script>
    <script type="module" async src="/website/assets/app.30ce24bb.js"></script>
    
  </body>
</html>